@using Travel.ViewModel
@model UserAccountViewModel



<div class="container-xxl py-5">
    <div class="container">
        <div class="row g-5">
            <div class="col-lg-6">
                <h2 class="mb-4">My Profile</h2>

                <form asp-action="Update" method="post">
                    <div class="form-floating mb-3">
                        <input type="text" class="form-control" asp-for="FullName" placeholder="Full Name">
                        <label asp-for="FullName">Full Name</label>
                        <span asp-validation-for="FullName" class="text-danger"></span>
                    </div>

                    <div class="form-floating mb-3">
                        <input type="email" class="form-control" asp-for="Email" readonly placeholder="Email">
                        <label asp-for="Email">Email</label>
                    </div>

                    <button type="submit" class="btn btn-primary py-3 px-5">Update Profile</button>
                </form>
            </div>

            <div class="col-lg-6">
                <h2 class="mb-4">Change Password</h2>

                <form asp-action="ChangePassword" method="post">
                    <div class="form-floating mb-3">
                        <input type="password" class="form-control" name="CurrentPassword" placeholder="Current Password">
                        <label>Current Password</label>
                    </div>

                    <div class="form-floating mb-3">
                        <input type="password" class="form-control" name="NewPassword" placeholder="New Password">
                        <label>New Password</label>
                    </div>

                    <button type="submit" class="btn btn-primary py-3 px-5">Change Password</button>
                </form>
            </div>
        </div>

        <div class="row g-5 mt-5">
            <div class="col-lg-6">
                <h2 class="mb-4">Past Bookings</h2>
                <ul class="list-group">
                    @if(Model?.PastBookings != null && Model.PastBookings.Any())
                    {
                        <ul>
                            @foreach (var booking in Model.PastBookings)
                            {
                                <li>@booking.Destination - @booking.Date.ToShortDateString() - @booking.Status</li>
                            }
                        </ul>
                    }
                    else
                    {
                        <p>No past bookings available. Start exploring our tours to book your next adventure!</p>
                    }
                </ul>
            </div>

            <div class="col-lg-6">
                <h2 class="mb-4">Upcoming Bookings</h2>
                <ul class="list-group">
                    @if (Model?.UpcomingBookings != null && Model.UpcomingBookings.Any())
                    {
                        <ul>
                            @foreach (var booking in Model.UpcomingBookings)
                            {
                                <li>@booking.Destination - @booking.Date.ToShortDateString() - @booking.Status</li>
                            }
                        </ul>
                    }
                    else
                    {
                        <p>No upcoming bookings available. <a href="@Url.Action("Index", "Tours")" class="text-warning">Book a tour now!</a></p>
                    }
                </ul>
            </div>
        </div>
    </div>
</div>

